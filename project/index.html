<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
	<title>3rockAR - BAT</title>

	<!-- We've included a slightly modified version of A-Frame, which fixes some polish concerns -->
	<script src="//cdn.8thwall.com/web/aframe/8frame-1.3.0.min.js"></script>

	<!-- XR Extras - provides utilities like load screen, almost there, and error handling.
   See github.com/8thwall/web/xrextras -->
	<script defer src="//cdn.8thwall.com/web/xrextras/xrextras.js"></script>

	<!-- Other external scripts and meta tags can also be added. -->
	<script src="//cdn.8thwall.com/web/aframe/aframe-extras-6.1.1.min.js"></script>

	<!-- 8thWall Web - Replace the app key here with your own app key -->
	<script async
		src="//apps.8thwall.com/xrweb?appKey=jP2C7pfhvOh4n13xisyJf4W3lOWlBFRCJdv5aGcE9HyQEIet9ybItf1Xb0IOR4jKUSUrif"></script>

	<!-- Other external scripts and meta tags can also be added. 
	<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r123/examples/js/renderers/CSS2DRenderer.js"></script>
	-->

	<!-- Other external scripts and meta tags can also be added. -->
	<script src="//unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>

	<link rel="stylesheet" href="./css/index.css">
	<link rel="stylesheet" href="./css/animate.css">

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-QELM9ECGCD"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-QELM9ECGCD');
	</script>

	</script>
</head>

<body>

	<div style="display:none;">
		<img id="empty" src="assets/ui/empty.png">

	</div>



	<div id="iyp_loading">
		<div id="loading_logo" class='animated pulse'></div>
		<div id="low_power_warning"></div>
	</div>
	<div id='top_bar'>
		<div id='btn_back'></div>
		<div id='logo_white'></div>
		<div id='btn_soundToggle' class='on'></div>

	</div>
	<div id='intro_background'>
		<div id='intro_age_verification'>
			<!--
			<img src="./assets/ui/BAT-2023_Concept_Assets_V2_B_logo_black.png" style="flex-grow: 0.1; margin: 10px 0 0 0; max-width: 50px;
				 max-height: 50px;" />-->
			<img src="./assets/ui/BAT-2023_Concept_Assets_V3_B_verification_text_1.png" style="flex-grow: 1.5; object-fit: contain;
			width: 90%; height: auto; margin-bottom: 2%; " />
			<button id="button_verification_18" style="flex-grow: 0.5;">
				<img src="./assets/ui/BAT-2023_Concept_Assets_V3_B_button_verification_1.png" alt="home" style="max-width: 90%;
				max-height: 100px;">
			</button>
			<button id="button_verification_no_18" style="flex-grow: 0.5;">
				<img src="./assets/ui/BAT-2023_Concept_Assets_V3_B_button_verification_2.png" alt="home" style="max-width: 90%;
				max-height: 100px;">
			</button>
			<img src="./assets/ui/BAT-2023_Concept_Assets_V3_B_verification_text_2.png" style="flex-grow: 1.0; max-width: 90%;
			 max-height: 50px; margin-bottom: 2%;" />
		</div>
		<div id='intro_1_text'></div>
		<div id="lets_go" class="lets_go_on">
		</div>
		<div id='bottom_bar'></div>
	</div>

	<div id="user_is_underage">
	</div>
	<div id="tap_to_place">
	</div>

	<div id='bottom_bar_outro'></div>

	<div id="info">
		<div id="btnCloseInfo"></div>
		<video id="videoInfo5" muted crossOrigin="anonymous" playsinline style="display: none;" preload="auto" muted
			autoplay="false">
			<source src="assets/video/Charge_POP-Up_Box_400x400_VP9.webm" type='video/webm'>
			<source src="assets/video/Charge_POP-Up_Box_400x400-1.mov" type='video/mp4; codecs="hvc1"'>
			Your browser does not support HTML video.
		</video>
	</div>

	<canvas id='polaroidHolder' height='800' width='800'></canvas>
	<div id='ar_mode_takePhoto_button'></div>
	<div id='polaroidShare'>
		<img id='polaroidImage' height='600' width='800'>
		<div id='polaroidText'>Tap and Hold to save your Image</div>
		<div id='btnClosePolaroid'></div>
		<div id='hold_to_save'></div>
	</div>

	<div id="take_action" class="take_action_on"></div>

	<div id="outro">
		<video id="videoOutro" muted crossOrigin="anonymous" playsinline preload="auto" muted autoplay loop="true"
			src="./assets/video/GIF_Avatar_clean_V2_H.264.mp4">
		</video>
		<video id="videoBoost" muted crossOrigin="anonymous" playsinline preload="auto" muted autoplay loop="true"
		src="./assets/video/Function_01-BOOST_V2-1.mp4">
	</video>
		<div id="outro_button_1"></div>
		<div id="outro_button_2"></div>
	</div>

	<div id="speech_text"></div>
	<div id="filter-dance" class="filter-dance">
		<button class="filter-dance__button white" value="1">
			<img class="filter-dance__button__images"
				src="./assets/ui/buttons/BAT-2023_Concept_Assets_V2_B_color_button_1_orange.png" alt="1">
			<!--<div class="filter-dance__button__text">Samba</div>-->
		</button>
		<button class="filter-dance__button white" value="2">
			<img class="filter-dance__button__images"
				src="./assets/ui/buttons/BAT-2023_Concept_Assets_V2_B_color_button_2_black.png" alt="2">
			<!--<div class="filter-dance__button__text">Flamenco</div>-->
		</button>
		<button class="filter-dance__button white" value="3">
			<img class="filter-dance__button__images"
				src="./assets/ui/buttons/BAT-2023_Concept_Assets_V2_B_color_button_3_blue.png" alt="3">
			<!--<div class="filter-dance__button__text">Pirouette</div>-->
		</button>
		<button class="filter-dance__button white" value="4">
			<img class="filter-dance__button__images"
				src="./assets/ui/buttons/BAT-2023_Concept_Assets_V2_B_color_button_4_gold.png" alt="4">
			<!--<div class="filter-dance__button__text">Breakdance</div>-->
		</button>
		<button class="filter-dance__button white active" value="5" id="initColorButton">
			<img class="filter-dance__button__images"
				src="./assets/ui/buttons/BAT-2023_Concept_Assets_V2_B_color_button_5_red.png" alt="5">
			<!--<div class="filter-dance__button__text">Breakdance</div>-->
		</button>
		<button class="filter-dance__button white" value="6">
			<img class="filter-dance__button__images"
				src="./assets/ui/buttons/BAT-2023_Concept_Assets_V2_B_color_button_6_khaki.png" alt="6">
			<!--<div class="filter-dance__button__text">Breakdance</div>-->
		</button>
		<button class="filter-dance__button white" value="7">
			<img class="filter-dance__button__images"
				src="./assets/ui/buttons/BAT-2023_Concept_Assets_V2_B_color_button_7_pinegreen.png" alt="7">
			<!--<div class="filter-dance__button__text">Breakdance</div>-->
		</button>
	</div>

	<div id="find_out_more_bottom" class="find_out_more_bottom">
		<button class=" find_out_more_bottom__button" value="find_out_more">
			<img class="find_out_more_bottom__images" src="./assets/ui/BOTTONE_copia_3.png" alt="1">
			<!--<div class="filter-dance__button__text">Samba</div>-->
		</button>
	</div>
	<!-- UI Buttons used to change colors -->
	<div id="container"></div>
	<div id="ar_text" class="ar_text_1"></div>

	<div id="notification_8thwall_not_supported">
		<div id="notification_8thwall_not_supported_content"></div>
	</div>

	<a-scene id='main_scene' 
		xrextras-gesture-detector 
		xrextras-almost-there
		xrextras-loading="loadImage: #customLoadingSpinner; loadAnimation: pulse;" 
		xrextras-runtime-error
		xrextras-pause-on-hidden 
		renderer="colorManagement: true;" 
		xrweb="allowedDevices: mobile;"
		vr-mode-ui="enabled: false" 
		light="defaultLightsEnabled: false">

		<a-assets>

			<img id="surface_grid" src="assets/3rock_overlay_grid.png" />

			<img id="customLoadingSpinner" src="assets/ui/glo_Logo_copy.png">

			<a-asset-item id="glbModel" src="./assets/glb/GHX2_Device_AnimUpdate_my.glb"></a-asset-item>


			<img id="surface_grid_tap_to_place" src="assets/ui/empty.png" />
			<img id="surface_grid_tap_to_place_alert" src="assets/ui/empty.png" />
			<img id="imgTexture1" src="assets/textures/GHX2_3_Orange_Diffuse.png" />
			<img id="imgTexture2" src="assets/textures/GHX2_2_Black_Diffuse.png" />
			<img id="imgTexture3" src="assets/textures/GHX2_3_CobaltBlue_Diffuse.png" />
			<img id="imgTexture4" src="assets/textures/GHX2_3_GoldWhite_Diffuse.png" />
			<img id="imgTexture5" src="assets/textures/GHX2_2_BlackRed_Diffuse.png" />
			<img id="imgTexture6" src="assets/textures/GHX2_2_KhakiGreen_Diffuse.png" />
			<img id="imgTexture7" src="assets/textures/GHX2_2_GreenBlue_Diffuse.png" />

			<video id="video" muted autoplay playsinline crossorigin="anonymous" loop="true"
				src="./assets/video/BAT_Giulia_Device-fade-V2_Chroma-Blue_ezgif.mp4">
			</video>
		</a-assets>

		<!-- The raycaster will emit mouse events on scene objects specified with the cantap class -->
		<a-camera id="camera" position="0 16 16" raycaster="objects: .cantap;" cursor="fuse: false; rayOrigin: mouse;">

			<a-entity id="orangeLight" visible="false">

				<a-light type="ambient" color="orange" intensity="0.5" target="#glb"></a-light>
				<a-light type="directional" color="white" position="20 0 5" intensity="0.01" target="#glb"></a-light>
				<a-light type="directional" color="white" position="-20 0 5" intensity="0.5" target="#glb"></a-light>
				<a-light type="directional" color="white" position="5 -5 5" intensity="0.1" target="#glb"></a-light>

			</a-entity>
			<a-entity id="blackLight" visible="false">
				<a-light type="ambient" color="white" intensity="0.05" target="#glb"></a-light>
				<a-light type="directional" color="white" position="20 0 5" intensity="0.05" target="#glb"></a-light>
				<a-light type="directional" color="white" position="-20 0 5" intensity="0.05" target="#glb"></a-light>
				<a-light type="directional" color="white" position="5 -5 5" intensity="0.06" target="#glb"></a-light>
			</a-entity>
			<a-entity id="cobaltBlueLight" visible="false">
				<a-light type="ambient" color="white" intensity="0.1" target="#glb"></a-light>
				<a-light type="directional" color="white" position="20 0 5" intensity="0.1" target="#glb"></a-light>
				<a-light type="directional" color="white" position="-20 0 5" intensity="0.1" target="#glb"></a-light>
				<a-light type="directional" color="white" position="5 -5 5" intensity="0.1" target="#glb"></a-light>
			</a-entity>
			<a-entity id="goldWhiteLight" visible="false">
				<a-light type="ambient" color="white" intensity="0.1" target="#glb"></a-light>
				<a-light type="directional" color="white" position="20 0 5" intensity="0.3" target="#glb"></a-light>
				<a-light type="directional" color="white" position="-20 0 5" intensity="0.3" target="#glb"></a-light>
				<a-light type="directional" color="white" position="5 -5 5" intensity="0.3" target="#glb"></a-light>
			</a-entity>
			<a-entity id="blackRedLight" visible="false">
				<a-light type="ambient" color="orange" intensity="0.7" target="#glb"></a-light>
				<a-light type="directional" color="white" position="20 0 5" intensity="0.5" target="#glb"></a-light>
				<a-light type="directional" color="white" position="-20 0 5" intensity="0.5" target="#glb"></a-light>
				<a-light type="directional" color="white" position="5 -5 5" intensity="0.5" target="#glb"></a-light>
			</a-entity>
			<a-entity id="khakiGreenLight" visible="false">
				<a-light type="ambient" color="white" intensity="0.2" target="#glb"></a-light>
				<a-light type="directional" color="white" position="20 0 5" intensity="0.2" target="#glb"></a-light>
				<a-light type="directional" color="white" position="-20 0 5" intensity="0.2" target="#glb"></a-light>
				<a-light type="directional" color="greenyellow" position="5 -5 5" intensity="0.05"
					target="#glb"></a-light>
			</a-entity>
			<a-entity id="greenBlueLight" visible="false">
				<a-light type="ambient" color="white" intensity="0.3" target="#glb"></a-light>
				<a-light type="directional" color="white" position="20 0 5" intensity="0.05" target="#glb"></a-light>
				<a-light type="directional" color="white" position="-20 0 5" intensity="0.05" target="#glb"></a-light>
				<a-light type="directional" color="white" position="5 -5 5" intensity="0.06" target="#glb"></a-light>
			</a-entity>

			<a-entity id="verticalRotation" scale="0.05 0.05 0.05" position="0 0 -1" rotation="25 0 0">
				<a-entity xrextras-pinch-scale custom-one-finger-rotate id="horizontalRotation" scale="1 1 1">
					<a-entity id="glb" gltf-model="#glbModel" visible="true" change-color scale="1 1 1"></a-entity>
					<a-entity rotation="0 150 0">
						<a-entity id="hot_spot1" position="0 1.9 2.3" visible="false" shadow="receive: false"
							geometry="primitive: sphere; radius: 0.6"
							material="src: #surface_grid_tap_to_place; transparent: true; depthWrite: false; depthTest: true"
							scale="1.2 1.2 1.2"  class="cantap" tap-hotspott>
							<a-entity geometry="primitive: circle; radius: 0.1" material="shader: flat; color: white"
								position="0 0 -0.01"></a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.125; radius-outer: 0.15;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.1; dur: 500; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.175; radius-outer: 0.2;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.1; dur: 1000; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.225; radius-outer: 0.232;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.0; dur: 1500; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity id="boost" scale="5 5 5" shadow="receive: false" visible="false"
							target-video="name: outside; video: #videoBoost; fade: 100"
							material="shader: chromakey; src: #videoBoost; color: 0.0 0.0 0.0"
							geometry="primitive: plane; width: 1.92; height: 1.08;">
						</a-entity>
						</a-entity>
					</a-entity>
					<a-entity rotation="0 150 0">
						<a-entity id="hot_spot2" position="0 3.1 2.3" visible="false" shadow="receive: false"
							geometry="primitive: sphere; radius: 0.6"
							material="src: #surface_grid_tap_to_place; transparent: true; depthWrite: false; depthTest: true"
							scale="1.2 1.2 1.2"  class="cantap" tap-hotspott>
							<a-entity geometry="primitive: circle; radius: 0.1" material="shader: flat; color: white"
								position="0 0 -0.01"></a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.125; radius-outer: 0.15;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.1; dur: 550; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.175; radius-outer: 0.2;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.1; dur: 1100; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.225; radius-outer: 0.232;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.0; dur: 1650; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
						</a-entity>
					</a-entity>
					<a-entity rotation="0 0 0">
						<a-entity id="hot_spot3" position="0.6 4.01 -0.95" visible="false" shadow="receive: false"
							geometry="primitive: sphere; radius: 0.6"
							material="src: #surface_grid_tap_to_place; transparent: true; depthWrite: false; depthTest: true"
							scale="1.2 1.2 1.2"  class="cantap" tap-hotspott rotation="-90 0 0 ">
							<a-entity geometry="primitive: circle; radius: 0.1" material="shader: flat; color: white"
								position="0 0 -0.01"></a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.125; radius-outer: 0.15;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.1; dur: 600; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.175; radius-outer: 0.2;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.1; dur: 1400; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.225; radius-outer: 0.232;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.0; dur: 1800; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
						</a-entity>
					</a-entity>
					<a-entity rotation="0 -45 0">
						<a-entity id="hot_spot4" position="0 3.5 2.3" visible="false" shadow="receive: false"
							geometry="primitive: sphere; radius: 0.6"
							material="src: #surface_grid_tap_to_place; transparent: true; depthWrite: false; depthTest: true"
							scale="1.2 1.2 1.2"  class="cantap" tap-hotspott>
							<a-entity geometry="primitive: circle; radius: 0.1" material="shader: flat; color: white"
								position="0 0 -0.01"></a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.125; radius-outer: 0.15;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.1; dur: 650; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.175; radius-outer: 0.2;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.1; dur: 1300; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.225; radius-outer: 0.232;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.0; dur: 1950; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
						</a-entity>
					</a-entity>
					<a-entity rotation="0 150 0">
						<a-entity id="hot_spot5" position="0 -3.0 2.3" visible="false" shadow="receive: false"
							geometry="primitive: sphere; radius: 0.6"
							material="src: #surface_grid_tap_to_place; transparent: true; depthWrite: false; depthTest: true"
							scale="1.2 1.2 1.2" class="cantap" tap-hotspott>
							<a-entity geometry="primitive: circle; radius: 0.1" material="shader: flat; color: white"
								position="0 0 -0.01"></a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.125; radius-outer: 0.15;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.1; dur: 700; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.175; radius-outer: 0.2;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.1; dur: 1400; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
							<a-entity geometry="primitive: ring; radius-inner: 0.225; radius-outer: 0.232;"
								material="shader: flat; color: white"
								animation="property: material.opacity; from: 1.0; to: 0.0; dur: 2100; easing: easeInQuad;  dir: alternate; loop: true;"
								position="0 0 -0.01">
							</a-entity>
						</a-entity>
					</a-entity>

				</a-entity>
			</a-entity>

		</a-camera>

		<a-entity id="beginLight" visible="true">
			<a-light type="ambient" color="white" intensity="0.5"></a-light>
			<a-light type="directional" color="white" position="20 0 5" intensity="0.2"></a-light>
			<a-light type="directional" color="white" position="-20 0 5" intensity="0.2"></a-light>
			<a-light type="directional" color="white" position="5 -5 5" intensity="0.2"></a-light>
		</a-entity>

		<!--
		<a-entity id="man" scale="15 15 15" shadow="receive: false" visible="false"
			target-video="name: outside; video: #video; fade: 100"
			material="shader: chromakey; src: #video; color: 0.57 0.01 1.0"
			geometry="primitive: plane; width: 1.08; height: 1.92;" look-at="#camera">
		</a-entity>
		-->

		<a-entity id="man" scale="15 15 15" shadow="receive: false" visible="false"
			target-video="name: outside; video: #video; fade: 100"
			material="shader: chromakey; src: #video; color: 0.0 0.0 0.94"
			geometry="primitive: plane; width: 1.08; height: 1.92;" look-at="#camera">
		</a-entity>


		<a-entity id="flat_surface" scale="2 2 2" visible="false">
			<a-plane rotation="-90 0 0" width="1" height="1"
				material="src: #surface_grid; transparent: true; depthWrite: false; depthTest: true;" alfa-test
				position="0 -0.1 0"></a-plane>
			<a-plane id="flat_surface_message" rotation="0 0 0" width="0.5" height="0.5"
				material="src: #surface_grid_tap_to_place; transparent: true; depthWrite: false; depthTest: true"
				position="0 0.5 0"
				animation="property: position; to: 0 0.56 0; dur: 500; easing: easeOutQuad; loop: true; dir: alternate;"
				alfa-test></a-plane>
		</a-entity>

		<a-circle id="ground" position="0 0 0" rotation="-90 0 0" radius="100" material="shader: shadow; opacity: 0.0;"
			shadow>
		</a-circle>

	</a-scene>
	<script type="module" src="./js/app.js"></script>
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<!-- Other external scripts and meta tags can also be added. -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.1/howler.min.js"></script>
</body>

</html>